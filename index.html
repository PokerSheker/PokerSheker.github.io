<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poker Sheker</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="cards.css"/>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">

</head>
<body>
<div class="container">
    <!--First page - create or join room-->
    <div id="first-page">
        <div class="row">
            <div class="col center-block text-center">
                <h1>Multiplayer Poker Sheker</h1>
            </div>
        </div>
        <div class="row">
            <div id="nickname-selection">
                <div class="col center-block text-center">
                    <h2>Enter Nickname</h2>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col center-block text-center">
                <input type="text" id="nickname-input" placeholder="Zambalooloo" class="row">
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col">
                <div id="join-room">
                    <h2>Have a code? Join a Room</h2>
                    <input type="text" id="room-code-input" placeholder="Enter Room Code">
                    <br>
                    <button id="joinButton">Join Room</button>
                </div>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col center-block text-center">
                <h1>OR</h1>
            </div>
        </div>

        <div class="row">
            <div id="create-room">
                <h2>Create a Room</h2>
                <div class="row">
                    <div class="col">
                        <select name="cardsNum" id="cardsNum" class="form-control">
                            <option selected>Select cards</option>
                            <option value=3>3</option>
                            <option value=4>4</option>
                            <option value=5>5</option>
                            <option value=6>6</option>
                            <option value=7>7</option>
                            <option value=8>8</option>
                        </select>
                    </div>
                    <br>
                    <div class="col">
                        <button id="createButton">Create Room</button>
                        <p id="room-code"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--Second page - waiting room-->
    <div id="second-page" style="display: none" class="container">
        <div class="row">
            <div class="col center-block text-center">
                <h1>Room Code:</h1>
            </div>
        </div>
        <div class="row">
            <div class="col center-block text-center">
                <h1 id="roomCode"></h1>
            </div>
            <div class="col center-block text-center">
                <button id="copyCode">Copy Room Code</button>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col center-block text-center">
                <h2 id="cardsCount"></h2>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col center-block text-center">
                <h2>The Players:</h2>
            </div>
        </div>
        <div id="playersContainer"></div>
        <br>
        <div class="row" id="host-button" style="display: none">
            <div class="col center-block text-center">
                <button id="start-game">START GAME!</button>
            </div>
        </div>
        <div class="row" id="waiting" style="display: none">
            <div class="col center-block text-center">
                <h2> WAITING FOR HOST TO START GAME...</h2>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col center-block text-center">
                <button id="quit">quit room</button>
            </div>
        </div>
    </div>
    <!--Third page - game-->
    <div id="third-page" class="container" style="display: none">
        <div class="col center-block text-center"><h3 id="sudden-quit-text"></h3></div>
        <div class="col center-block text-center" id="rival-move-text"><h3>Waiting for rival move..</h3></div>
        <div id="player-rival-container" style="display: none">
            <div class="row">
                <div class="col center-block text-center" id="rival-name"></div>
            </div>
            <div class="row">
                <div class="col center-block text-center">
                    <div class="hand hhand-compact" data-hand="spacing: 0.4" id="rival-turn"></div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="row">
                <div class="col center-block text-center" id="my-move-text" style="display: none"><h3>My Move:</h3>
                </div>
            </div>
            <div class="col center-block text-center">
                <div class="hand hhand-compact active-hand" id="selected-cards-container"
                     data-hand="spacing: 0.4"></div>
            </div>
            <div class="row" id="send-buttons" style="display: none">
                <div class="pull-left">
                    <button id="send-turn" class="d-none d-sm-inline-block">Send</button>
                </div>
                <div class="pull-right">
                    <button id="send-open" class="d-none d-sm-inline-block">Open!</button>
                </div>
            </div>
        </div>
        <div style="display: none" id="my-move">
            <div class="row">
                <div class="col center-block text-center">
                    <h3>Choose your hand:</h3>
                </div>
            </div>
            <div class="row">
                <div class="col center-block text-center">
                    <div class="hand hhand-compact active-hand" data-hand="spacing: 0.2">
                        <img class='card' src='reg-cards/2.svg' id="2">
                        <img class='card' src='reg-cards/3.svg' id="3">
                        <img class='card' src='reg-cards/4.svg' id="4">
                        <img class='card' src='reg-cards/5.svg' id="5">
                        <img class='card' src='reg-cards/6.svg' id="6">
                        <img class='card' src='reg-cards/7.svg' id="7">
                        <img class='card' src='reg-cards/8.svg' id="8">
                        <img class='card' src='reg-cards/9.svg' id="9">
                        <img class='card' src='reg-cards/10.svg' id="10">
                        <img class='card' src='reg-cards/J.svg' id="J">
                        <img class='card' src='reg-cards/Q.svg' id="Q">
                        <img class='card' src='reg-cards/K.svg' id="K">
                        <img class='card' src='reg-cards/A.svg' id="A">
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col center-block text-center">
                <h3>My real hand:</h3>
            </div>
        </div>
        <div class="row">
            <div class="col center-block text-center">
                <div class="hand hhand-compact" data-hand="spacing: 0.8" id="my-cards-container">
                </div>
            </div>
        </div>
    </div>
    <!--Fourth page - Someone opened-->
    <div id="fourth-page" style="display: none">
        <div class="row">
            <div class="col center-block text-center" id="open-message">
            </div>
        </div>
        <div class="row">
            <div class="col center-block text-center" id="lost-message">
            </div>
        </div>
        <div class="row" id="all-player-cards">
            <div class="col center-block text-center">
                <h3>All Player Cards:</h3>
                <div class="hand hhand-compact" data-hand="spacing: 0.4" id="all-cards"></div>
            </div>
        </div>
        <div class="col center-block text-center">
            <button id="next-round">continue to next round...</button>
        </div>
    </div>
    <br>
    <div class="position-fixed top-0 start-50 translate-middle-x p-3" id="rules-info" style="display: none; background-color: antiquewhite;height: 80vh; overflow-y: scroll;">
        <div class="overflow-auto h-100">
            <div style="margin: 20px;">
            <p><strong>Poker Sheker: Rules and Gameplay</strong></p>

            <p><strong>Game Setup:</strong></p>
            <ul>
                <li>Each player starts with a predefined number of cards, ranging from 3 to 8.</li>
                <li>The cards are dealt face down, hidden from the other players.</li>
            </ul>

            <p><strong>Turn Sequence:</strong></p>
            <ul>
                <li>The player to the left of the previous round's loser begins the round.</li>
                <li>Each player takes turns making guesses about the highest poker hand on the table.</li>
                <li>The first player might guess a hand like "Ace High," indicating that they have an Ace in their
                    hand.
                </li>
                <li>The subsequent players must either guess a higher hand or choose to "open" the game.</li>
                <li>If a player calls "open," all the cards are revealed, and the round ends.</li>
            </ul>

            <p><strong>Determining the Winner:</strong></p>
            <ul>
                <li>If the last guessed hand exists by combining all the cards on the table, the player who called
                    "open" loses.
                </li>
                <li>If the last guessed hand does not exist, the player who made the guess loses.</li>
                <li>The player who loses a round receives one less card in the next round, while others maintain their
                    original card count.
                </li>
                <li>Once a player has no cards left, they are eliminated from the game.</li>
                <li>The last player remaining with cards wins the game.</li>
            </ul>

            <p><strong>Hand Rankings:</strong></p>
            <ul>
                <li>The hands in Poker Sheker follow standard poker hand rankings.</li>
                <li>The valid hands, in increasing order of strength, are as follows:</li>
            </ul>
            <ol>
                <li>Single card</li>
                <li>One pair</li>
                <li>One pair with a single card</li>
                <li>Two pairs</li>
                <li>Two pairs with a single card</li>
                <li>Three of a kind</li>
                <li>Three of a kind with a single card</li>
                <li>Full house (a pair and a three of a kind)</li>
                <li>Four of a kind</li>
                <li>Four of a kind with a single card</li>
            </ol>

            <p><strong>Validity of Raises:</strong></p>
            <ul>
                <li>Players can only make valid raises by guessing a hand that is higher than the previous guess.</li>
                <li>The game logic evaluates the validity of raises based on the hand rankings.</li>
                <li>In some cases, raises with certain combinations (e.g., two pairs versus two pairs with a single
                    card) need to be carefully compared to determine the winner.
                </li>
            </ul>

            <p>Remember, Poker Sheker is a game of probability, memory, and deception. Outsmart your opponents and make
                strategic guesses to come out on top!</p>
        </div>
        </div>
    </div>
    <div class="col center-block text-center">
        <button id="rules-button">Show Rules</button>
    </div>
</div>
<script src="script.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="cards.js"></script>
</body>
</html>
